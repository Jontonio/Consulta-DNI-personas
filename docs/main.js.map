{"version":3,"sources":["./src/app/components/form-consulta/form-consulta.component.html","./src/app/components/form-consulta/form-consulta.component.ts","./src/environments/environment.ts","./src/app/components/home/home.component.html","./src/app/components/home/home.component.ts","./src/app/models/mensaje.models.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/table-historial/table-historial.component.html","./src/app/components/table-historial/table-historial.component.ts","./src/app/components/navbar/navbar.component.ts","./src/app/components/navbar/navbar.component.html","./src/app/service/consulta.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["<div class=\"card\">\n  <div class=\"card-body\">\n      <div class=\"mb-3\">\n        <label class=\"form-label title\">CONSULTA DE DATOS</label>\n        <input type=\"text\"\n               placeholder=\"Escriba su DNI\"\n               class=\"form-control\"\n               [ngClass]=\"{'is-invalid': cservice.mensaje.estado}\"\n               maxLength=\"8\" (keyup.enter)=\"consultar()\"\n               [(ngModel)]=\"dni\">\n      </div>\n      <!-- mensajes -->\n      <div *ngIf=\"cservice.mensaje.estado\" class=\"alert alert-danger\" role=\"alert\">{{this.cservice.mensaje.aviso}}</div>\n      <button type=\"button\"\n              [disabled] = \"cservice.carga\"\n              (click)=\"consultar()\"\n              class=\"btn btn-primary btn-sm\">\n               <span *ngIf=\"cservice.carga\">\n                 <li class=\"fas fa-circle-notch fa-spin\"></li>\n                </span> Consultar\n      </button>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ConsultaService } from 'src/app/service/consulta.service';\n\n@Component({\n  selector: 'app-form-consulta',\n  templateUrl: './form-consulta.component.html',\n  styleUrls: ['./form-consulta.component.css']\n})\nexport class FormConsultaComponent implements OnInit {\n\n  dni       :string = '';\n  alert     :boolean = false;\n\n  constructor( public cservice:ConsultaService ) { }\n  consultar(){\n    this.cservice.consultar(this.dni);\n    this.dni = '';\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  URL_API: 'https://dniruc.apisperu.com/api/v1/dni/',\n  TOKEN:'token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Impvc2VhbnRvbmlvcnN5c3RlbUBnbWFpbC5jb20ifQ.BCnFI0IWlU9IEjv5pXu74c8yysKmGP_NN1_c7kmu-QI'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","<app-navbar></app-navbar>\n<div class=\"container mt-5\">\n  <div class=\"row\">\n    <div class=\"col-md-4\">\n      <app-form-consulta></app-form-consulta>\n    </div>\n    <div class=\"col-md-8\">\n      <div class=\"card table-responsive\">\n        <div class=\"car-body p-4 pb-0\" id=\"historial\">\n          <p class=\"text-center title history\">HISTORIAL DE CONSULTA</p>\n          <app-table-historial [listConsulta]=\"cservice.historial\"></app-table-historial>\n        </div>\n        <div *ngIf=\"cservice.historial.length!=0\" class=\"p-4\">\n          <button (click)=\"eliminarAll()\"\n                  class=\"btn btn-danger btn-sm\">Eliminar historial</button>\n          <button printSectionId=\"historial\"\n                  [useExistingCss]=\"true\"\n                  ngxPrint\n                  class=\"btn btn-dark btn-sm m-1\"><i class=\"fas fa-print\"></i> Imprimir</button>\n        </div>\n        <div *ngIf=\"cservice.historial.length==0\" class=\"alert alert-info m-3\" role=\"alert\">\n          <i class=\"fas fa-folder-open\"></i> Lista de historial vacía\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ConsultaService } from '../../service/consulta.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n\n  constructor( public cservice:ConsultaService ) { }\n\n\n  eliminarAll(){\n    this.cservice.eliminarStorage()\n  }\n\n}\n","export class Mensaje{\n    aviso:string;\n    tipo:string;\n    estado:boolean;\n\n    constructor(){\n        this.aviso = this.aviso;\n        this.tipo = this.tipo;\n        this.estado = false;\n    }\n\n  }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'consulta';\n}\n","<app-home></app-home>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { NavbarComponent } from './components/navbar/navbar.component';\n\nimport { HttpClientModule } from '@angular/common/http'\nimport { FormsModule } from '@angular/forms';\n// ngx print\nimport {NgxPrintModule} from 'ngx-print';\nimport { TableHistorialComponent } from './components/table-historial/table-historial.component';\nimport { FormConsultaComponent } from './components/form-consulta/form-consulta.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    NavbarComponent,\n    TableHistorialComponent,\n    FormConsultaComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    FormsModule,\n    NgxPrintModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<table *ngIf=\"listConsulta.length!=0\" class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">DNI</th>\n      <th scope=\"col\">NOMBRES</th>\n      <th scope=\"col\">APELLIDO PATERNO</th>\n      <th scope=\"col\">APELLIDO MATERNO</th>\n      <th scope=\"col\">QUITAR</th>\n    </tr>\n  </thead>\n  <tbody>\n\n    <tr *ngFor=\"let persona of listConsulta; let i=index\">\n      <th scope=\"row\">{{i+1}}</th>\n      <td>{{persona.dni}}</td>\n      <td>{{persona.nombres}}</td>\n      <td>{{persona.apellidoPaterno}}</td>\n      <td>{{persona.apellidoMaterno}}</td>\n      <td>\n        <button (click)=\"eliminarItem(i)\" class=\"btn btn-danger btn-sm\"><i class=\"fas fa-minus-circle\"></i>\n        </button>\n      </td>\n    </tr>\n\n  </tbody>\n</table>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Persona } from 'src/app/models/persona.models';\nimport { ConsultaService } from 'src/app/service/consulta.service';\n\n@Component({\n  selector: 'app-table-historial',\n  templateUrl: './table-historial.component.html',\n  styleUrls: ['./table-historial.component.css']\n})\nexport class TableHistorialComponent implements OnInit {\n\n  @Input() listConsulta:Persona[] = [];\n\n  constructor(  public cservice:ConsultaService ) { }\n\n  ngOnInit(): void {\n  }\n\n\n  eliminarItem(indice:number){\n    this.cservice.eliminarPersona(indice);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n<!-- Image and text -->\n<nav class=\"navbar navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\">\n        <img class=\"flag\" src=\"./assets/img/flag.png\" alt=\"\" width=\"38\" height=\"24\" class=\"d-inline-block align-top mt-1\">\n        <span class=\"title main-title\">PERÚ</span>\n      </a>\n    </div>\n</nav>\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Mensaje } from '../models/mensaje.models';\nimport { Persona } from '../models/persona.models';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConsultaService {\n\n  carga: boolean = false;\n  persona: Persona;\n  verificado:boolean = false;\n  alert:boolean = false\n  mensaje = new Mensaje();\n  historial = new Array<Persona>();\n\n  constructor( private http:HttpClient ) {\n    this.leerStorage();\n  }\n\n  validarDni(dni:string):boolean{\n\n    if(!Number(dni)){\n\n      this.mensaje.aviso = 'El dni digitado no es válido';\n      this.mensaje.estado = true;\n      setTimeout(() => this.mensaje.estado = false , 3000);\n\n    } else if(dni.length!=8) {\n\n      this.mensaje.aviso = 'El dni no contiene 8 carácteres';\n      this.mensaje.estado = true;\n      setTimeout(() => this.mensaje.estado = false , 3000);\n\n    } else if(dni===null){\n\n      this.mensaje.aviso = 'Complete el campo DNI';\n      this.mensaje.estado = true;\n      setTimeout(() => this.mensaje.estado = false , 3000);\n\n    } else {\n\n      this.verificado = true;\n      this.mensaje.aviso = '';\n      this.mensaje.estado = false;\n      this.mensaje.tipo = 'danger';\n\n    }\n    return this.verificado;\n  }\n\n  consultar( dni:string ){\n\n    if(!dni) return;\n\n    if (this.validarDni(dni)) {\n\n      this.carga = true;\n      this.http.get<Persona>(`${environment.URL_API}${dni}?${environment.TOKEN}`).subscribe(\n        (res)=>{\n          this.carga = false\n          if(res.message && !res.success){\n            this.mensaje.aviso = res.message;\n            this.mensaje.tipo = 'warning';\n            this.mensaje.estado = true;\n            setTimeout(() => this.mensaje.estado = false , 3500);\n            return;\n          }\n          this.persona = res;\n          this.historial.push(this.persona);\n          this.guardarStorage();\n        },\n        (err)=>{\n          this.mensaje.aviso = err\n          this.mensaje.tipo = 'danger';\n          this.carga = false\n        }\n      )\n\n    }\n\n  }\n\n  guardarStorage(){\n    localStorage.setItem('data',JSON.stringify(this.historial));\n  }\n\n  leerStorage(){\n    if(localStorage.getItem('data')!==null){\n      this.historial = JSON.parse(localStorage.getItem('data'))\n    }\n  }\n\n  eliminarStorage(){\n    localStorage.removeItem('data');\n    this.historial = [];\n    this.guardarStorage();\n  }\n\n  eliminarPersona(i:number){\n    this.historial.splice(i,1);\n    this.guardarStorage();\n  }\n\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}